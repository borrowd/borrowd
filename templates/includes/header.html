{% load static %}
{% load i18n %}
<!-- Navbar -->
<div class="dui-navbar bg-white shadow-sm sticky top-0 z-50">
  <div class="dui-navbar-start">
    <!-- If authed, show ðŸ”  -->
    {% if user.is_authenticated %}
    <label for="main-drawer" class="dui-btn dui-btn-ghost dui-btn-circle">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h7" />
      </svg>
    </label>
    {% endif %}
  </div>
  <div class="dui-navbar-center">
    <a href="{% url 'index' %}" class="dui-btn dui-btn-ghost">
      <img class="w-48" src="{% static 'borrowd-logo.svg' %}" alt="Borrow'd's logo, complete with friendly bumble bee" />
    </a>
  </div>
  <div class="dui-navbar-end">
    {% if not user.is_authenticated %}
      {% url 'account_request_login_code' as login_url_ %}
      {% if login_url_ %}
        <a href="{{ login_url_ }}" class="dui-btn dui-btn-ghost">
          {% trans "Sign In" %}
        </a>
      {% endif %}
      {% url 'account_signup' as signup_url_ %}
      {% if signup_url_ %}
        <a href="{% url 'account_signup' %}" class="dui-btn dui-btn-primary">
          Sign Up
        </a>
      {% endif %}
    {% else %}
      <!-- currently empty. Avatar picture in future? -->
      <div class="w-12"></div>
    {% endif %}
  </div>
</div>

<!-- Drawer/Sidebar -->
{% if user.is_authenticated %}
<div class="dui-drawer">
  <input id="main-drawer" type="checkbox" class="dui-drawer-toggle" />
  <div class="dui-drawer-content"></div>
  <div class="dui-drawer-side z-40">
    <label for="main-drawer" aria-label="close sidebar" class="dui-drawer-overlay"></label>
    <ul class="dui-menu bg-white min-h-full w-80 pt-20 px-4 pb-4 shadow-xl">
      <li>
        <a href="{% url 'item-list' %}" class="flex items-center gap-3 py-3">
          <i class="fas fa-magnifying-glass text-lg"></i>
          <span>Search</span>
        </a>
      </li>
      <li>
        <a href="{% url 'borrowd_groups:group-list' %}" class="flex items-center gap-3 py-3">
          <i class="fas fa-users text-lg"></i>
          <span>Groups</span>
        </a>
      </li>
      <li>
        <a href="{% url 'profile-inventory' %}" class="flex items-center gap-3 py-3">
          <i class="fas fa-box text-lg"></i>
          <span>Inventory</span>
        </a>
      </li>
      <li>
        <a href="{% url 'profile' %}" class="flex items-center gap-3 py-3">
          <i class="fas fa-user text-lg"></i>
          <span>My Profile</span>
        </a>
      </li>
      <li>
        <a href="javascript:void(0)" aria-disabled="true" class="flex items-center gap-3 py-3 opacity-60 cursor-not-allowed">
          <i class="fas fa-circle-question text-lg"></i>
          <span>FAQ</span>
        </a>
      </li>
      <li>
        <a href="{% url 'profile' %}" class="flex items-center gap-3 py-3">
          <i class="fas fa-gear text-lg"></i>
          <span>Settings</span>
        </a>
      </li>
      <li>
        <form method="POST" action="{% url 'account_logout' %}" onsubmit="this.querySelector('button[type=submit]').disabled = true;">
          {% csrf_token %}
          <button type="submit" class="flex items-center gap-3 py-3 w-full text-left">
            <i class="fas fa-right-from-bracket text-lg"></i>
            <span>Logout</span>
          </button>
        </form>
      </li>
    </ul>
  </div>
</div>
{% endif %}
