{% load static %}

<a href="{% url 'item-detail' pk %}" class="block no-underline">
    {% with box_size=box_size|default:'md' %} {# Define box_size with a default #}
    <div class="bg-gray-100 shadow-md rounded-lg hover:-translate-y-2 transition-all duration-300 ease-in-out
        {% if box_size == 'sm' %}
            w-[200px] h-[250px]
        {% elif box_size == 'lg' %}
            w-[400px] h-[400px]
        {% else %} {# Default to md #}
            w-[300px] h-[300px] lg:w-[230px] lg:h-[230px]
        {% endif %}
    ">
        <div class="relative w-full h-full">
            <!-- todo: map default images by item category (will require comprehensive default category images) -->
            <img src="{{ image|default:'/static/items/categories/logo-tools.png' }}" class="w-full h-1/2 object-cover" alt="{{ name|default:'Default item image' }}" />
            {% if label %}
            <div class="bg-blue-500 text-white text-center py-1 px-2 -mt-3 relative z-10 text-sm font-medium w-full rounded-b-lg">
                {{ label }}
            </div>
            {% endif %}
            <div class="flex flex-col py-4 px-3">
                <!-- todo: deal with super long names -->
                <div class="text-lg font-bold">{{name}}</div>
                <div class="text-sm text-gray-500">Owned by {{ owner }}</div>
            </div>
            <!-- todo: chip component -->
            <div class="absolute bottom-0 right-0 m-2">
                <!-- todo: request/borrow/action flow -->
                <div class="bg-green-400 rounded-2xl px-2 text-sm">{{ status }}</div>
            </div>
        </div>
    </div>
    {% endwith %}
</a>
